{% extends "base.html" %}

{% block css %}
{% endblock %}

{% block body %}

<div class="padded"></div>

<div class="container">
  <p style="margin-bottom:50px;margin-top:14px;font-size:18px;"><font style="font-size:25px;font-weight:600;margin-right:10px;">step 2: </font> click on the words that best emphasize your story or feeling</p>
  <div class="nextObject">
    <div class="containmer">
      <form method="POST" action="/highlightw/{{id}}/" id="formout">
        <input class="input-block-level" type="text" id="highlights" name="highlight" required></input>
      </form>
    </div>
    <div class="textparter">
      <center>
      {% for w, i, p in title %}
        <p id="awesome{{i}}" class="format">{{w}}</p>
      {% endfor %}
      </center>
      {% for n, c, l in template %}
        <br>
        {% for word, index, pos in paragraph %}
          {% if pos == c %}
            <p id="awesomer{{index}}" class="format">{{word}}</p>
          {% endif %}
        {% endfor %}
      {% endfor %}
    </div>
  </div>
  <center><button class="btn btn-large bottoms" name="submit" type="submit" form="formout">Publish</button></center>
</div>

{% endblock %}

{% block extra-js %}

<script>

  $('#highlights').keydown(function() {
    return false;
  });

  {% for w, i in title %}

    $("#awesome{{i}}").click(function() {
        $(".containmer").slideDown("medium");
        if ($(this).hasClass("yee")) {
            return false;
        }
        else {
            $(this).addClass("yee");
            $(this).css("font-weight", "bold");
            $(this).css("text-decoration", "underline");
            var value = $(this).text();

            {% for a, b in title %}
            if ($("#awesome{{b}}").text() == value) {
                $("#awesome{{b}}").css("font-weight", "bold");
                $("#awesome{{b}}").css("text-decoration", "underline");
            }
            {% endfor %}

            var input = $("#highlights");
            input.val(input.val() + value + '  ');
            return false;
        }
    });

  {% endfor %}

  {% for word, index in paragraph %}

    $("#awesomer{{index}}").click(function() {
        $(".containmer").slideDown("medium");
        if ($(this).hasClass("yee")) {
            return false;
        }
        else {
            $(this).addClass("yee");
            $(this).css("font-weight", "bold");
            $(this).css("text-decoration", "underline");
            var value = $(this).text();

            {% for c, d in paragraph %}
                if ($("#awesomer{{d}}").text() == value) {
                    $("#awesomer{{d}}").css("font-weight", "bold");
                    $("#awesomer{{d}}").css("text-decoration", "underline");
                }
            {% endfor %}

            var input = $("#highlights");
            input.val(input.val() + value + '  ');
            return false;
        }
    });

  {% endfor %}

</script>

{% endblock %}
